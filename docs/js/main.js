!function(e){var t={};function a(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,a),o.l=!0,o.exports}a.m=e,a.c=t,a.d=function(e,t,r){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(a.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)a.d(r,o,function(t){return e[t]}.bind(null,o));return r},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="",a(a.s=2)}([function(e,t,a){"use strict";a.r(t),t.default={light:{background:"#fff",border:"#E3E7FF"},dark:{background:"#1F1F1F",border:"#000"},dark_green:{background:"#3A5D5F",border:"#263D3E"},dark_blue:{background:"#4E3C7A",border:"#3D247A"},light_green:{background:"#BBE8D1",border:"#64E8A4"},pale_yellow:{background:"#F7BD7F",border:"#F79E3F"}}},function(e,t,a){"use strict";a.r(t),t.default={"black-dark":{background:"linear-gradient(45deg, #211F1E, #484442)",border:"#000"},"dark-gray":{background:"radial-gradient(#292929, #121212)",border:"#121212"},"dark-blue-green":{background:"radial-gradient(#086D43, #0E1C29)",border:"#0E1C29"},"dark-blue":{background:"radial-gradient(#1C3297, #03060F)",border:"#03060F"},black:{background:"#000",border:"#303030"},"turquoise-yellow":{background:"linear-gradient(to top, #F0F489, #9BF9BE)",border:"#9BF9BE"},"blue-green":{background:"linear-gradient(to top, #009EF9, #25EF9B)",border:"#009EF9"},"purple-opacity":{background:"linear-gradient(to top, #CD9EF1, transparent)",border:"#CD9EF1"},"purple-pink":{background:"linear-gradient(to left, #ED5F9B, #B864D4)",border:"#B864D4"},"orange-yellow":{background:"linear-gradient(to top, #F0C10F, #E55039)",border:"#E55039"},"blue-green-opacity":{background:"linear-gradient(to top, #DAF4D7, #3B9BDB)",border:"#DAF4D7"},"orange-pink":{background:"linear-gradient(45deg, #FDC195, #FD085F)",border:"#FD085F"},"blue-dark-blue":{background:"linear-gradient(45deg, #02C0FF, #4416BA)",border:"#02C0FF"},"pink-blue":{background:"linear-gradient(45deg, #FE0667, #4B3EDA)",border:"#FE0667"},gray:{background:"linear-gradient(45deg, #676767, #9F9F9F)",border:"#9F9F9F"},"dark-purple":{background:"linear-gradient(45deg, #351874, #5E31A2)",border:"#351874"}}},function(e,t,a){a(1),a(0),e.exports=a(3)},function(e,t,a){"use strict";a.r(t);var r=a(0),o=a(1);(()=>{let e=[],t=o.default["black-dark"].background;localStorage.getItem("color_page")&&(t=JSON.parse(localStorage.getItem("color_page")),document.body.style.background=t),localStorage.getItem("columns")&&(e=JSON.parse(localStorage.getItem("columns")),u()),Array.prototype.removeEl=function(e){return delete this[e],this.filter(e=>e)};(()=>{const t=document.querySelector(".wrapper__block-btn"),a=document.querySelector(".wrapper__block-column-name");t.addEventListener("click",()=>{const t=a.value;if(t.length>2){const o={title:t,tasks:[],color_theme:r.default.light};e.push(o),p("columns",JSON.stringify(e)),_(),a.value=""}}),n()})();const a=()=>{document.querySelectorAll(".wrapper__block-header-remove").forEach((t,a)=>{t.addEventListener("click",()=>{document.documentElement.classList.remove("dark-background"),e=e.removeEl(a),p("columns",JSON.stringify(e)),_()})})};function n(){const t=document.querySelectorAll(".wrapper__block"),a=document.querySelectorAll('.wrapper__block-form-task-btn[data-form-btn="add"]'),r=document.querySelectorAll('.wrapper__block-form-task-btn[data-form-btn="cancel"]'),o=document.querySelectorAll(".wrapper__block-form-task-name"),n=document.querySelectorAll(".wrapper__block-form"),c=document.querySelectorAll(".wrapper__block-footer-total-tasks");t.forEach((t,l)=>{a[l].addEventListener("click",()=>{const t=o[l].value,a=new Date;if(t.length>2){const r={title:t,date:`${a.getHours()<10?"0"+a.getHours():a.getHours()}:${a.getMinutes()<10?"0"+a.getMinutes():a.getMinutes()}`,check:!1,id:Math.ceil(Date.now())+1.5*l,column_num:l};e[l].tasks.push(r),c[l].innerText=k(l),n[l].classList.add("hide"),p("columns",JSON.stringify(e)),_()}}),r[l].addEventListener("click",()=>n[l].classList.add("hide"))})}function c(){e.map((t,a)=>{const r=document.querySelectorAll(`.wrapper__block-main-tasks-item-checkbox[data-column="${a}"]`),o=document.querySelectorAll(`.wrapper__block-main-tasks-item[data-column="${a}"]`),n=document.querySelectorAll(`.wrapper__block-main-tasks-item-name[data-column="${a}"]`);o.forEach((o,c)=>{o.addEventListener("click",()=>{if(r[c].checked){const e=r[c].id.match(/\d+/g);t.tasks.map((t,r)=>{a===+e[0]&&r===+e[1]&&(t.check=!0,n[r].classList.add("done-task"))})}else{const e=r[c].id.match(/\d+/g);t.tasks.map((t,r)=>{a===+e[0]&&r===+e[1]&&(t.check=!1,n[r].classList.remove("done-task"))})}p("columns",JSON.stringify(e))})})})}function l(){const t=document.querySelectorAll(".wrapper__block-header-settings-column"),a=document.querySelectorAll(".wrapper__block"),r=document.querySelectorAll(".wrapper__block-header-title"),o=document.querySelectorAll(".wrapper__block-header-title-change-column"),n=document.querySelectorAll(".wrapper__block-header-change-column-text-btn");a.forEach((e,a)=>{e.addEventListener("mouseenter",()=>t[a].classList.remove("hide")),e.addEventListener("mouseleave",()=>t[a].classList.add("hide"))}),n.forEach((t,a)=>{let n=!1;t.addEventListener("click",()=>{n=!n,r[a].classList.toggle("hide"),o[a].classList.toggle("hide"),[...t.childNodes].find(e=>"IMG"===e.nodeName).src=n?"./images/check.svg":"./images/pencil.svg",[...t.childNodes].find(e=>"IMG"===e.nodeName).alt=n?"check":"pencil",t.classList.toggle("blue-btn"),n||(o[a].value?(e[a].title=o[a].value,p("columns",JSON.stringify(e)),_()):(r[a].classList.remove("hide"),o[a].classList.add("hide"))),o[a].focus()})})}function s(){const t=document.querySelectorAll(".wrapper__block-main-tasks-item"),a=document.querySelectorAll(".wrapper__block-main-tasks-item-date-remove-task-btn"),r=document.querySelectorAll(".wrapper__block-main-tasks-item-date-change-task-btn"),o=document.querySelectorAll(".wrapper__block-main-tasks-item-date-text");t.forEach((e,t)=>{e.addEventListener("mouseenter",()=>{a[t].classList.remove("hide"),r[t].classList.remove("hide"),o[t].classList.add("hide")}),e.addEventListener("mouseleave",()=>{a[t].classList.add("hide"),r[t].classList.add("hide"),o[t].classList.remove("hide")})}),e.map((t,a)=>{document.querySelectorAll(`.wrapper__block-main-tasks-item-date-remove-task-btn[data-column="${a}"]`).forEach((t,a)=>{t.addEventListener("click",()=>{const r=+t.dataset.column;e[r].tasks=e[r].tasks.removeEl(a),p("columns",JSON.stringify(e)),_()})})})}function d(){e.map((t,a)=>{const r=document.querySelectorAll(`.wrapper__block-main-tasks-item-date-change-task-btn[data-column="${a}"]`),o=document.querySelectorAll(`.wrapper__block-main-tasks-item-change-task-name[data-column="${a}"]`),n=document.querySelectorAll(`.wrapper__block-main-tasks-item-name[data-column="${a}"]`);let l=!1;r.forEach((t,a)=>{t.addEventListener("click",()=>{const r=+t.dataset.column;l=!l,[...t.childNodes].find(e=>"IMG"===e.nodeName).src=l?"./images/check.svg":"./images/pencil.svg",[...t.childNodes].find(e=>"IMG"===e.nodeName).alt=l?"check":"pencil",o[a].classList.toggle("hide"),n[a].classList.toggle("hide"),t.classList.toggle("blue-btn"),e[r].tasks[a].title=o[a].value,c(),l||(p("columns",JSON.stringify(e)),_()),o[a].focus()})})})}function i(){e.map((t,a)=>{const o=document.querySelectorAll(".wrapper__block-header-change-color-theme-column-btn"),n=document.querySelectorAll(".wrapper__block"),c=document.querySelectorAll(".wrapper__block-color-theme"),l=document.querySelectorAll(".wrapper__block-color-theme-btn"),s=document.querySelectorAll(`.wrapper__block-color-theme-list[data-column="${a}"] li`);o.forEach((t,a)=>{t.addEventListener("click",()=>{document.documentElement.classList.add("dark-background"),c[a].style.zIndex="1",n.forEach(e=>e.style.zIndex="-1"),n[a].style.zIndex="99999",s.forEach((t,o)=>{const n=t.dataset.colorTheme;t.addEventListener("click",()=>{s.forEach(e=>e.classList.remove("active-color")),(e=>{s[e].classList.add("active-color")})(o);for(let t in r.default)n===t&&(e[a].color_theme=r.default[t])});for(let o in r.default)n===o&&r.default[o].background===e[a].color_theme.background&&t.classList.add("active-color")}),l[a].addEventListener("click",()=>{document.documentElement.classList.remove("dark-background"),c[a].style.zIndex="-1",n.forEach(e=>e.style.zIndex="0"),p("columns",JSON.stringify(e)),_()})})})})}function u(){const t=document.querySelector(".wrapper__blocks");t.innerHTML="",e.map((e,a)=>{const r=`\n      <div class="wrapper__block">\n        <header class="wrapper__block-header" style="background: ${e.color_theme.background}; border-bottom: 1.5px solid ${e.color_theme.border};">\n          <div class="wrapper__block-header-item">\n            <h3 class="wrapper__block-header-title">${e.title}</h3>\n            <input class="wrapper__block-header-title-change-column change-text-input hide" type="text" value="${e.title}" />\n          </div>\n          <div class="wrapper__block-header-item wrapper__block-header-settings-column hide">\n            <button class="wrapper__block-header-remove"></button>\n            <button class="wrapper__block-header-change-color-theme-column-btn">\n              <img src="./images/palette.svg" alt="palette"></img>\n            </button>\n            <button class="wrapper__block-header-change-column-text-btn">\n              <img src="./images/pencil.svg" alt="pencil" />\n            </button>\n          </div>\n        </header>\n        <main class="wrapper__block-main" style="background: ${e.color_theme.background}; border-bottom: 1.5px solid ${e.color_theme.border};">\n          <ul class="wrapper__block-main-tasks" data-list-num="${a}"></ul>\n        </main>\n        <footer class="wrapper__block-footer" style="background: ${e.color_theme.background}; border-top: 1.5px solid ${e.color_theme.border};">\n          <div class="wrapper__block-footer-total-tasks">\n            ${k(a)}\n          </div>\n          <div class="wrapper__block-footer-add-new-task">\n            <button class="wrapper__block-footer-add-new-task-btn">Добавить новую задачу</button>\n          </div>\n        </footer>\n        <div class="wrapper__block-form hide" style="background: ${e.color_theme.background}">\n          <input class="wrapper__block-form-task-name form-text" type="text" placeholder="Название задачи">\n          <button class="wrapper__block-form-task-btn form-btn" data-form-btn="add">Добавить задачу</button>\n          <button class="wrapper__block-form-task-btn form-btn form-btn-cancel" data-form-btn="cancel">Отмена</button>\n        </div>\n        <div class="wrapper__block-color-theme" style="background: ${e.color_theme.background};">\n          <h2 class="wrapper__block-color-theme-heading">Выберите задний фон столбца: "${e.title}"</h2>\n          <ul class="wrapper__block-color-theme-list" data-column="${a}"></ul>\n          <button class="wrapper__block-color-theme-btn blue-btn">\n            <img src="./images/check.svg" alt="check" />\n          </button>\n        </div>\n      </div>\n      `;t.innerHTML+=r});document.querySelectorAll(".wrapper__block-color-theme-list").forEach(e=>{for(let t in r.default){const a=`<li class="wrapper__block-color-theme-list-item" data-color-theme="${t}" style="background: ${r.default[t].background}; border: 1px solid ${r.default[t].border}"></li>`;e.innerHTML+=a}}),function(){const t=document.querySelectorAll(".wrapper__block-main-tasks");t.forEach(e=>e.innerHTML=""),e.map((e,a)=>{e.tasks.map((r,o)=>{const n=`\n        <li class="wrapper__block-main-tasks-item" data-column="${a}" data-num-task="${o}">\n          <label for="checkbox-${a}-${o}">\n            <div class="wrapper__block-main-tasks-item-block">\n              <input class="wrapper__block-main-tasks-item-checkbox" type="checkbox" id="checkbox-${a}-${o}" ${r.check?"checked":""} data-column="${a}" />\n              <span class="wrapper__block-main-tasks-item-check" style="border: 1px solid ${e.color_theme.border}"></span>\n            </div>\n            <div class="wrapper__block-main-tasks-item-block">\n              <div class="wrapper__block-main-tasks-item-name ${r.check?"done-task":""}" data-column="${a}">${r.title}</div>\n              <input class="wrapper__block-main-tasks-item-change-task-name change-text-input hide" type="text" value="${r.title}" data-column="${a}" />\n            </div>\n            <div class="wrapper__block-main-tasks-item-block wrapper__block-main-tasks-item-date">\n              <button class="wrapper__block-main-tasks-item-date-remove-task-btn hide" data-column="${a}"></button>\n              <button class="wrapper__block-main-tasks-item-date-change-task-btn hide" data-column="${a}">\n                <img src="./images/pencil.svg" alt="pencil" />\n              </button>\n              <span class="wrapper__block-main-tasks-item-date-text">${r.date}</span>\n            </div>\n          </label>\n        </li>\n        `;t[a].innerHTML+=n})})}()}function m(){const t=document.querySelectorAll(".wrapper__block-main-tasks-item"),a=document.querySelectorAll(".wrapper__block-main-tasks"),r=document.querySelectorAll(".wrapper__block-header-settings-column");t.forEach(e=>{e.draggable=!0,e.addEventListener("dragstart",()=>{setTimeout(()=>e.classList.add("selected-task"),0),r.forEach(e=>e.classList.add("hide"))}),e.addEventListener("dragend",()=>{e.classList.remove("selected-task"),r.forEach(e=>e.classList.add("hide"))})}),a.forEach(t=>{t.addEventListener("dragover",e=>{e.preventDefault()},!1),t.addEventListener("drop",()=>{const a=document.querySelector(".selected-task");!function(t,a){if(a){const r=e[+a.dataset.column].tasks[+a.dataset.numTask];e.map((o,n)=>{if(!o.tasks.find(e=>e.id===r.id))return;const c=o.tasks.find(e=>e.id===r.id);n===c.column_num&&o.tasks.map((r,n)=>{if(r.id===c.id){const r=[...a.childNodes].find(e=>"LABEL"===e.nodeName),l=document.querySelector(`.wrapper__block-main-tasks-item-checkbox[data-column="${c.column_num}"]`),s=document.querySelector(`.wrapper__block-main-tasks-item-date-remove-task-btn[data-column="${c.column_num}"]`),d=document.querySelector(`.wrapper__block-main-tasks-item-date-change-task-btn[data-column="${c.column_num}"]`);r.for=`checkbox-${t}-${n}`,l.id=`checkbox-${t}-${n}`,l.dataset.column=t,s.dataset.column=t,d.dataset.column=t,c.column_num=t,a.dataset.column=t,a.dataset.numTask=n,o.tasks=o.tasks.removeEl(n),e[t].tasks.push(c)}})}),p("columns",JSON.stringify(e))}}(+t.dataset.listNum,a),t.append(a),_()})})}function k(t){let a="";return(0===e[t].tasks.length||e[t].tasks.length>4)&&(a=e[t].tasks.length+" задач"),1===e[t].tasks.length&&(a=e[t].tasks.length+" задача"),e[t].tasks.length>1&&e[t].tasks.length<5&&(a=e[t].tasks.length+" задачи"),a}function p(e,t){localStorage.setItem(e,t)}function b(){const e=document.querySelectorAll(".wrapper__block-form");document.querySelectorAll(".wrapper__block-footer-add-new-task-btn").forEach((t,a)=>t.addEventListener("click",()=>e[a].classList.remove("hide")))}function _(){u(),n(),b(),a(),i(),d(),l(),s(),m(),c()}a(),c(),l(),s(),function(){const e=document.querySelector(".wrapper__navbar-list"),a=document.querySelector(".wrapper__navbar"),r=document.querySelector(".wrapper__navbar-heading-close"),n=document.querySelector(".wrapper__block-btn-bg-page");(()=>{for(let a in o.default){const r=`<li class="wrapper__navbar-list-item ${t===o.default[a].background?"active-color":""}" data-color-page="${a}" style="background: ${o.default[a].background}; border: 1px solid ${o.default[a].border}"></li>`;e.innerHTML+=r}})(),r.addEventListener("click",()=>a.classList.add("hide")),n.addEventListener("click",()=>a.classList.remove("hide"));const c=document.querySelectorAll(".wrapper__navbar-list-item");c.forEach((e,a)=>{e.addEventListener("click",()=>{const r=e.dataset.colorPage;c.forEach(e=>e.classList.remove("active-color")),c[a].classList.add("active-color");for(let e in o.default)e===r&&(t=o.default[e].background,document.body.style.background=t,p("color_page",JSON.stringify(t)))})})}(),d(),i(),m(),b()})()}]);